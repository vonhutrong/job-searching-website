<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
</head>
<body>

    <th:block th:fragment="search">
        <style>
            .my-group .form-control{
                width:45%;
            }
        </style>
        <script>
            /*if ( $.browser.webkit ) {
                $(".my-group-button").css("height","+=1px");
            }*/
        </script>

        <div class="input-group my-group">
            <form action="#" th:action="@{/tin-tuyen-dung/tim-kiem}" th:object="${searchForm}" method="get">
                <input type="text" class="form-control" name="snpid" placeholder="Test" th:field="*{keyword}"/>
                <select class="selectpicker form-control" th:field="*{departmentId}">
                    <option th:each="i : ${departments}" th:value="${i.id}" th:text="${i.name}">Ngành nghề</option>
                </select>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><span class="glyphicon glyphicon-search"></span></button>
                </span>
            </form>
        </div>
        <div class="text-right">
            <a href="#">Tìm kiếm nâng cao</a>
        </div>
    </th:block>

    <th:block th:fragment="review">
        <div th:each="recruitment : ${recruitments}" style="padding-bottom: 1em">
            <div class="col-md-3">
                <img th:src="@{/logo(logoPath=${recruitment.employer.logoPath})}" width="100px" height="100px"/>
            </div>
            <div>
                <span th:text="${recruitment.employer.name}">Công ty ...</span><br/>
                <span><i th:text="${#dates.format(recruitment.createdDatetime, 'hh:mm dd-MM-yyyy')}">Thời gian, lượt xem</i></span><br/>
                <p th:text="${#strings.substring(recruitment.content, 0, #strings.length(recruitment.content) % 100)}">Nội dung ...</p>
                <a th:href="@{/tin-tuyen-dung/chi-tiet(id=${recruitment.id})}">Chi tiết</a>
            </div>
        </div>
    </th:block>

    <th:block th:fragment="review-apply">
        <div class="well" th:each="applyHistory : ${recruitment.applyHistories}" style="padding-bottom: 1em">
            <span th:text="${applyHistory.employee.name}"></span> - Lúc: <span th:text="${#dates.format(applyHistory.datetime, 'hh:mm dd-MM-yyyy')}"></span>
            <a th:href="@{/tin-tuyen-dung/tai-xuong(applyHistoryId=${applyHistory.id})}">Đơn xin việc</a>
        </div>
    </th:block>

    <th:block th:fragment="details">
        <span th:text="${recruitment.title}"> (công việc) tại Công ty ...</span><br/>
        <span th:text="${recruitment.employer.address}">Địa chỉ</span><br/>
        Mô tả chi tiết công việc<br/>
        <!--<p th:text="${recruitment.content}">...</p>-->
        <p th:utext="${#strings.replace( #strings.escapeXml( recruitment.content ),T(java.lang.System).getProperty('line.separator'),'&lt;br /&gt;')}" ></p>
        Kinh nghiệm/kỹ năng chi tiết<br/>
        <div th:if="${recruitment.requiredFemale != null}">
            <span th:if="${recruitment.requiredFemale == true}">Yêu cầu nữ</span>
            <span th:if="${recruitment.requiredFemale == false}">Yêu cầu nam</span>
        </div>
        Mô tả<br/>
        Thông tin liên hệ<br/>
        Ngày hết hạn: <span th:text="${#dates.format(recruitment.deadlineForSubmission, 'dd-MM-yyyy')}"/><br/>
        <div sec:authorize="hasRole('ROLE_EMPLOYEE')">
            <a class="btn btn-primary" th:href="@{/nguoi-dung/nop-don(recruitmentId=${recruitment.id})}">Nộp đơn</a><br/>
        </div>
        Tags: xxx, xxx
    </th:block>

    <th:block th:fragment="content">
        <form action="#" th:action="@{/nha-tuyen-dung/dang-tin}" th:object="${recruitmentForm}" method="post">
            <div class="form-group">
                <label>Tiêu đề <span class="text-danger">*</span></label>
                <input class="form-control" th:field="*{title}"/>
                <div th:if="${#fields.hasErrors('title')}" class="text-danger">
                    Cần nhập thông tin này
                </div>
            </div>
            <div class="form-group">
                <label>Nội dung <span class="text-danger">*</span></label>
                <textarea class="form-control" th:field="*{content}"></textarea>
                <div th:if="${#fields.hasErrors('content')}" class="text-danger">
                    Cần nhập thông tin này
                </div>
            </div>
            <div class="form-group">
                <label>Mức lương <span class="text-danger">*</span></label>
                <div class="form-group row">
                    <div class="col-md-4"><input class="form-control" th:field="*{lowestSalary}"/></div>
                    <div class="col-md-2"><span> đến </span></div>
                    <div class="col-md-4"><input class="form-control" th:field="*{highestSalary}"/></div>
                    <div class="col-md-2"><span> đồng</span></div>
                </div>
                <div th:if="${#fields.hasErrors('lowestSalary')}" class="text-danger">
                    Số tiền không hợp lệ
                </div>
            </div>
            <div class="form-group">
                <label>Ngành nghề <span class="text-danger">*</span></label>
                <select class="form-control" th:field="*{departmentId}">
                    <option th:each="i : ${departments}" th:value="${i.id}" th:text="${i.name}">Ngành nghề</option>
                </select>
            </div>
            <div class="form-group">
                <label>Trình độ <span class="text-danger">*</span></label>
                <select class="form-control" th:field="*{educationalLevelId}">
                    <option th:each="i : ${educationalLevels}" th:value="${i.id}" th:text="${i.name}">Trình độ</option>
                </select>
            </div>
            <div class="form-group">
                <label>Giới tính (Để trống nếu không có yêu cầu cụ thể)</label>
                <label class="radio-inline"><input type="radio" th:field="*{requiredFemale}" th:value="false"/>Nam</label>
                <label class="radio-inline"><input type="radio" th:field="*{requiredFemale}" th:value="true"/>Nữ</label>
            </div>
            <div class="form-group">
                <label>Độ tuổi <span class="text-danger">*</span></label>
                <input class="form-control" type="text" th:field="*{averageAge}"/>
                <div th:if="${#fields.hasErrors('averageAge')}" class="text-danger">
                    Độ tuổi thấp nhất là 16 tuổi
                </div>
            </div>
            <div class="form-group">
                <label>Năm kinh nghiệm <span class="text-danger">*</span></label>
                <input class="form-control" type="text" th:field="*{yearsOfExperience}"/>
                <div th:if="${#fields.hasErrors('yearsOfExperience')}" class="text-danger">
                    Số năm kinh nghiệm không hợp lệ
                </div>
            </div>
            <div class="form-group">
                <label>Hạn nộp hồ sơ <span class="text-danger">*</span></label>
                <input class="form-control" type="text" th:field="*{deadlineForSubmission}"/>
                <div th:if="${#fields.hasErrors('deadlineForSubmission')}" class="text-danger">
                    Cần chọn một ngày trong tương lai
                </div>
            </div>
            <div class="text-center">
                <button type="submit" class="btn btn-primary">Nộp đơn</button>
            </div>
        </form>
    </th:block>

</body>
</html>